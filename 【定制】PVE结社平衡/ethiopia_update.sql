
-- 每次触发随机解锁多个结社 结社总督可以提前解锁 升级效果不隐藏
UPDATE GovernorPromotionConditions
SET EarliestGameEra='ERA_RENAISSANCE'
WHERE GovernorPromotionType LIKE '%_3';
UPDATE GovernorPromotionConditions
SET EarliestGameEra='ERA_INDUSTRIAL'
WHERE GovernorPromotionType LIKE '%_4';
UPDATE GovernorPromotionConditions
SET HiddenWithoutPrereqs = 0
WHERE GovernorPromotionType IS NOT NULL;
UPDATE SecretSocieties
SET DiscoverAtGoodyHutBaseChance=100,
    DiscoverAtBarbarianCampBaseChance=100,
    DiscoverAtCityStateBaseChance=100,
    DiscoverAtNaturalWonderBaseChance=100
WHERE SecretSocietyType IS NOT NULL;

-- 不同结社不降低好感
UPDATE ModifierArguments SET Value = 0 WHERE ModifierId = 'STANDARD_DIPLOMATIC_DIFFERENT_SECRET_SOCIETY' AND Name='InitialValue';

-- 关系+20
INSERT INTO TraitModifiers (TraitType, ModifierId) VALUES
('TRAIT_LEADER_MAJOR_CIV', 'TRAIT_LEADER_MAJOR_CIV_ADD_20');
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId, SubjectRequirementSetId) VALUES
('TRAIT_LEADER_MAJOR_CIV_ADD_20', 'MODIFIER_PLAYER_DIPLOMACY_SIMPLE_MODIFIER', 1, 1, 0, NULL, NULL);
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('TRAIT_LEADER_MAJOR_CIV_ADD_20', 'InitialValue', '20'),
('TRAIT_LEADER_MAJOR_CIV_ADD_20', 'SimpleModifierDescription', 'LOC_TRAIT_LEADER_MAJOR_CIV_ADD_20');

-- 一级通商送贸易站
INSERT INTO GovernorPromotionModifiers (GovernorPromotionType, ModifierId) VALUES
('GOVERNOR_PROMOTION_OWLS_OF_MINERVA_1', 'MODIFIER_GOVERNOR_PROMOTION_OWLS_OF_MINERVA_1_MAOYIZHAN'),
('GOVERNOR_PROMOTION_SANGUINE_PACT_1', 'MODIFIER_GOVERNOR_PROMOTION_OWLS_OF_MINERVA_1_MAOYIZHAN'),
('GOVERNOR_PROMOTION_VOIDSINGERS_1', 'MODIFIER_GOVERNOR_PROMOTION_OWLS_OF_MINERVA_1_MAOYIZHAN'),
('GOVERNOR_PROMOTION_HERMETIC_ORDER_1', 'MODIFIER_GOVERNOR_PROMOTION_OWLS_OF_MINERVA_1_MAOYIZHAN');
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId, SubjectRequirementSetId) VALUES
('MODIFIER_GOVERNOR_PROMOTION_OWLS_OF_MINERVA_1_MAOYIZHAN', 'MODIFIER_PLAYER_ADJUST_IMMEDIATE_TRADING_POST', 0, 0, 0, NULL, NULL);
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_GOVERNOR_PROMOTION_OWLS_OF_MINERVA_1_MAOYIZHAN', 'ImmediateTradingPost', '1');

-- =================
-- 吸血鬼
-- =================
-- 吸血鬼移速为3 为近战单位可以升级
UPDATE Units
SET BaseMoves=3
WHERE UnitType = 'UNIT_VAMPIRE';
UPDATE Units
SET PromotionClass='PROMOTION_CLASS_MELEE'
WHERE UnitType = 'UNIT_VAMPIRE';
UPDATE Units
SET CanEarnExperience=1
WHERE UnitType = 'UNIT_VAMPIRE';

-- 吸血鬼城堡上限+1 提供4点住房
UPDATE Improvements
SET Housing=4
WHERE ImprovementType = 'IMPROVEMENT_VAMPIRE_CASTLE';
UPDATE ModifierArguments
SET Value = 3
WHERE ModifierId = 'SECRET_SOCIETY_GRANT_TWO_VAMPIRE_BUILDS'
  AND Name = 'Amount';


-- =================
-- 黄金黎明
-- =================
-- 地脉改动
UPDATE Resources
SET Frequency=20
WHERE ResourceType = 'RESOURCE_LEY_LINE';
-- 直接显示地脉 所有文明都可以享受地脉加成
UPDATE Resource_Conditions
SET UnlocksFromEffect=0
WHERE ResourceType = 'RESOURCE_LEY_LINE';
-- 地脉变多 可以修建矿山 可以移除和覆盖但是提供的加成会消失
INSERT OR IGNORE INTO Resource_Harvests(ResourceType, YieldType, Amount)
VALUES ('RESOURCE_LEY_LINE', 'YIELD_PRODUCTION', 40);

INSERT OR IGNORE INTO Improvement_ValidResources(ImprovementType, ResourceType)
VALUES ('IMPROVEMENT_MINE', 'RESOURCE_LEY_LINE');

-- 结社改动
INSERT OR IGNORE INTO GovernorPromotionModifiers(GovernorPromotionType, ModifierId)
VALUES --黄金黎明1级伟人点
       ('GOVERNOR_PROMOTION_HERMETIC_ORDER_1', 'HERMETIC_ORDER_NEW'),
       ('GOVERNOR_PROMOTION_HERMETIC_ORDER_1', 'HERMETIC_ORDER_NEW2'),
       --黄金黎明2级伟人点
       ('GOVERNOR_PROMOTION_HERMETIC_ORDER_2', 'HERMETIC_ORDER_PLUS'),
       ('GOVERNOR_PROMOTION_HERMETIC_ORDER_2', 'HERMETIC_ORDER_PLUS2');
INSERT OR IGNORE INTO Modifiers(ModifierId, ModifierType)
VALUES ('HERMETIC_ORDER_NEW', 'MODIFIER_PLAYER_ADJUST_GREAT_PERSON_POINTS'),
       ('HERMETIC_ORDER_NEW2', 'MODIFIER_PLAYER_ADJUST_GREAT_PERSON_POINTS'),
       --黄金黎明2级伟人点
       ('HERMETIC_ORDER_PLUS2', 'MODIFIER_PLAYER_ADJUST_GREAT_PERSON_POINTS'),
       ('HERMETIC_ORDER_PLUS', 'MODIFIER_PLAYER_ADJUST_GREAT_PERSON_POINTS');

INSERT OR IGNORE INTO ModifierArguments(ModifierId, Name, Value)
VALUES ('HERMETIC_ORDER_NEW', 'GreatPersonClassType', 'GREAT_PERSON_CLASS_ENGINEER'),
       ('HERMETIC_ORDER_NEW', 'Amount', 1),
       ('HERMETIC_ORDER_NEW2', 'GreatPersonClassType', 'GREAT_PERSON_CLASS_SCIENTIST'),
       ('HERMETIC_ORDER_NEW2', 'Amount', 1),
       --黄金黎明2级伟人点
       ('HERMETIC_ORDER_PLUS', 'GreatPersonClassType', 'GREAT_PERSON_CLASS_ENGINEER'),
       ('HERMETIC_ORDER_PLUS', 'Amount', 3),
       ('HERMETIC_ORDER_PLUS2', 'GreatPersonClassType', 'GREAT_PERSON_CLASS_SCIENTIST'),
       ('HERMETIC_ORDER_PLUS2', 'Amount', 3);

-- 三级伟人点 学院科学家 +1、剧院给作家 +1、工业区工程师 +1、港口海军+1、商业中心商人+1、圣地预言家 +1
CREATE TEMPORARY TABLE IF NOT EXISTS NW_DIS_GP(
    DistrictType TEXT NOT NULL PRIMARY KEY ,
    GreatPersonClassType TEXT NOT NULL
);
INSERT INTO NW_DIS_GP(DistrictType, GreatPersonClassType) VALUES
('DISTRICT_CAMPUS','GREAT_PERSON_CLASS_SCIENTIST'),
('DISTRICT_HOLY_SITE','GREAT_PERSON_CLASS_PROPHET'),
('DISTRICT_COMMERCIAL_HUB','GREAT_PERSON_CLASS_MERCHANT'),
('DISTRICT_INDUSTRIAL_ZONE','GREAT_PERSON_CLASS_ENGINEER'),
('DISTRICT_THEATER','GREAT_PERSON_CLASS_WRITER'),
('DISTRICT_HARBOR','GREAT_PERSON_CLASS_ADMIRAL'),
('DISTRICT_ENCAMPMENT','GREAT_PERSON_CLASS_GENERAL');


INSERT INTO GovernorPromotionModifiers (GovernorPromotionType, ModifierId) SELECT
'GOVERNOR_PROMOTION_HERMETIC_ORDER_3', 'MODIFIER_GOVERNOR_PROMOTION_HERMETIC_ORDER_3_GPP_'||DistrictType
FROM NW_DIS_GP;
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId, SubjectRequirementSetId) SELECT
'MODIFIER_GOVERNOR_PROMOTION_HERMETIC_ORDER_3_GPP_'||DistrictType, 'MODIFIER_PLAYER_DISTRICTS_ADJUST_GREAT_PERSON_POINTS', 0, 0, 0, NULL, REPLACE(DistrictType,'DISTRICT_','DISTRICT_IS_')
FROM NW_DIS_GP;
INSERT INTO ModifierArguments (ModifierId, Name, Value) SELECT
'MODIFIER_GOVERNOR_PROMOTION_HERMETIC_ORDER_3_GPP_'||DistrictType,  'Amount', '1'
FROM NW_DIS_GP UNION SELECT
'MODIFIER_GOVERNOR_PROMOTION_HERMETIC_ORDER_3_GPP_'||DistrictType,  'GreatPersonClassType', GreatPersonClassType
FROM NW_DIS_GP;


INSERT INTO GovernorPromotionModifiers (GovernorPromotionType, ModifierId) VALUES
('GOVERNOR_PROMOTION_HERMETIC_ORDER_4', 'MODIFIER_GOVERNOR_PROMOTION_HERMETIC_ORDER_4_PRODUCTION');
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId, SubjectRequirementSetId) VALUES
('MODIFIER_GOVERNOR_PROMOTION_HERMETIC_ORDER_4_PRODUCTION', 'MODIFIER_PLAYER_ADJUST_PLOT_YIELD', 0, 0, 0, NULL, 'REQS_MODIFIER_GOVERNOR_PROMOTION_HERMETIC_ORDER_4_PRODUCTION');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_GOVERNOR_PROMOTION_HERMETIC_ORDER_4_PRODUCTION', 'Amount', '1'),
('MODIFIER_GOVERNOR_PROMOTION_HERMETIC_ORDER_4_PRODUCTION', 'YieldType', 'YIELD_PRODUCTION');

-- RequirementSets
INSERT INTO RequirementSets (RequirementSetId, RequirementSetType) VALUES
('REQS_MODIFIER_GOVERNOR_PROMOTION_HERMETIC_ORDER_4_PRODUCTION', 'REQUIREMENTSET_TEST_ALL');
INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES
('REQS_MODIFIER_GOVERNOR_PROMOTION_HERMETIC_ORDER_4_PRODUCTION', 'REQ_MODIFIER_GOVERNOR_PROMOTION_HERMETIC_ORDER_4_PRODUCTION');

-- Requirements
INSERT INTO Requirements (RequirementId, RequirementType) VALUES
('REQ_MODIFIER_GOVERNOR_PROMOTION_HERMETIC_ORDER_4_PRODUCTION', 'REQUIREMENT_PLOT_RESOURCE_TYPE_MATCHES');
INSERT INTO RequirementArguments (RequirementId, Name, Value) VALUES
('REQ_MODIFIER_GOVERNOR_PROMOTION_HERMETIC_ORDER_4_PRODUCTION', 'ResourceType', 'RESOURCE_LEY_LINE');


-- 项目生产力
UPDATE Projects
SET CostProgressionParam1='6000'
WHERE ProjectType = 'PROJECT_OCCULT_RESEARCH';
-- 项目伟人点
UPDATE Project_GreatPersonPoints
SET Points = 15
WHERE ProjectType = 'PROJECT_OCCULT_RESEARCH';

-- =================
-- 虚空
-- =================
INSERT OR IGNORE INTO GovernorPromotionModifiers(GovernorPromotionType, ModifierId)
VALUES ('GOVERNOR_PROMOTION_VOIDSINGERS_4', 'NEW_VOIDSINGERS_ID'),
       ('GOVERNOR_PROMOTION_VOIDSINGERS_3', 'GOVERNOR_PROMOTION_OWLS_OF_MINERVA_3_WILDCARD_POLICY_SLOT');
INSERT OR IGNORE INTO Modifiers(ModifierId, ModifierType, SubjectRequirementSetId)
VALUES ('NEW_VOIDSINGERS', 'MODIFIER_CITY_PLOT_YIELDS_ADJUST_PLOT_YIELD', 'PLOT_APPEAL');
INSERT OR IGNORE INTO Modifiers(ModifierId, ModifierType)
VALUES ('NEW_VOIDSINGERS_ID', 'MODIFIER_PLAYER_CITIES_ATTACH_MODIFIER');
INSERT OR IGNORE INTO ModifierArguments(ModifierId, Name, Value)
VALUES ('NEW_VOIDSINGERS_ID', 'ModifierId', 'NEW_VOIDSINGERS'),
       ('NEW_VOIDSINGERS', 'YieldType', 'YIELD_FAITH'),
       ('NEW_VOIDSINGERS', 'Amount', 1);
INSERT OR IGNORE INTO RequirementSets(RequirementSetId, RequirementSetType)
VALUES ('PLOT_APPEAL', 'REQUIREMENTSET_TEST_ALL');
INSERT OR IGNORE INTO RequirementSetRequirements(RequirementSetId, RequirementId)
VALUES ('PLOT_APPEAL', 'REQUIRES_PLOT_APPEAL');
INSERT OR IGNORE INTO Requirements(RequirementId, RequirementType)
VALUES ('REQUIRES_PLOT_APPEAL', 'REQUIREMENT_PLOT_IS_APPEAL_BETWEEN');
INSERT OR IGNORE INTO RequirementArguments(RequirementId, Name, Value)
VALUES ('REQUIRES_PLOT_APPEAL', 'MinimumAppeal', 4);
INSERT OR IGNORE INTO Resource_YieldChanges(ResourceType, YieldType, YieldChange)
VALUES ('RESOURCE_LEY_LINE', 'YIELD_FOOD', 1);

UPDATE Building_YieldChanges SET YieldChange = 3 WHERE BuildingType = 'BUILDING_OLD_GOD_OBELISK' AND YieldType = 'YIELD_FAITH';
-- 城市每个区域+1信仰

-- RequirementSets
INSERT INTO RequirementSets (RequirementSetId, RequirementSetType) VALUES
('REQS_NW_CITY_HAS_1DIS', 'REQUIREMENTSET_TEST_ALL'),
('REQS_NW_CITY_HAS_2DIS', 'REQUIREMENTSET_TEST_ALL'),
('REQS_NW_CITY_HAS_3DIS', 'REQUIREMENTSET_TEST_ALL'),
('REQS_NW_CITY_HAS_4DIS', 'REQUIREMENTSET_TEST_ALL'),
('REQS_NW_CITY_HAS_5DIS', 'REQUIREMENTSET_TEST_ALL');
INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES
('REQS_NW_CITY_HAS_1DIS', 'REQ_NW_CITY_HAS_1DIS'),
('REQS_NW_CITY_HAS_2DIS', 'REQ_NW_CITY_HAS_2DIS'),
('REQS_NW_CITY_HAS_3DIS', 'REQ_NW_CITY_HAS_3DIS'),
('REQS_NW_CITY_HAS_4DIS', 'REQ_NW_CITY_HAS_4DIS'),
('REQS_NW_CITY_HAS_5DIS', 'REQ_NW_CITY_HAS_5DIS');
-- Requirements
INSERT INTO Requirements (RequirementId, RequirementType) VALUES
('REQ_NW_CITY_HAS_1DIS', 'REQUIREMENT_CITY_HAS_X_SPECIALTY_DISTRICTS'),
('REQ_NW_CITY_HAS_2DIS', 'REQUIREMENT_CITY_HAS_X_SPECIALTY_DISTRICTS'),
('REQ_NW_CITY_HAS_3DIS', 'REQUIREMENT_CITY_HAS_X_SPECIALTY_DISTRICTS'),
('REQ_NW_CITY_HAS_4DIS', 'REQUIREMENT_CITY_HAS_X_SPECIALTY_DISTRICTS'),
('REQ_NW_CITY_HAS_5DIS', 'REQUIREMENT_CITY_HAS_X_SPECIALTY_DISTRICTS');
INSERT INTO RequirementArguments (RequirementId, Name, Value) VALUES
('REQ_NW_CITY_HAS_1DIS', 'Amount', '1'),
('REQ_NW_CITY_HAS_2DIS', 'Amount', '2'),
('REQ_NW_CITY_HAS_3DIS', 'Amount', '3'),
('REQ_NW_CITY_HAS_4DIS', 'Amount', '4'),
('REQ_NW_CITY_HAS_5DIS', 'Amount', '5');


INSERT INTO GovernorPromotionModifiers (GovernorPromotionType, ModifierId) VALUES
('GOVERNOR_PROMOTION_VOIDSINGERS_1', 'MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_1');
INSERT INTO Modifiers (ModifierId, ModifierType,SubjectRequirementSetId) VALUES
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_1', 'MODIFIER_PLAYER_CITIES_ADJUST_BUILDING_YIELD_CHANGE', 'REQS_NW_CITY_HAS_1DIS');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_1', 'Amount', '1'),
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_1', 'BuildingType', 'BUILDING_OLD_GOD_OBELISK'),
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_1', 'YieldType', 'YIELD_FAITH');

INSERT INTO GovernorPromotionModifiers (GovernorPromotionType, ModifierId) VALUES
('GOVERNOR_PROMOTION_VOIDSINGERS_1', 'MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_2');
INSERT INTO Modifiers (ModifierId, ModifierType,SubjectRequirementSetId) VALUES
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_2', 'MODIFIER_PLAYER_CITIES_ADJUST_BUILDING_YIELD_CHANGE', 'REQS_NW_CITY_HAS_2DIS');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_2', 'Amount', '1'),
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_2', 'BuildingType', 'BUILDING_OLD_GOD_OBELISK'),
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_2', 'YieldType', 'YIELD_FAITH');

INSERT INTO GovernorPromotionModifiers (GovernorPromotionType, ModifierId) VALUES
('GOVERNOR_PROMOTION_VOIDSINGERS_1', 'MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_3');
INSERT INTO Modifiers (ModifierId, ModifierType,SubjectRequirementSetId) VALUES
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_3', 'MODIFIER_PLAYER_CITIES_ADJUST_BUILDING_YIELD_CHANGE', 'REQS_NW_CITY_HAS_3DIS');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_3', 'Amount', '1'),
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_3', 'BuildingType', 'BUILDING_OLD_GOD_OBELISK'),
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_3', 'YieldType', 'YIELD_FAITH');

INSERT INTO GovernorPromotionModifiers (GovernorPromotionType, ModifierId) VALUES
('GOVERNOR_PROMOTION_VOIDSINGERS_1', 'MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_4');
INSERT INTO Modifiers (ModifierId, ModifierType,SubjectRequirementSetId) VALUES
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_4', 'MODIFIER_PLAYER_CITIES_ADJUST_BUILDING_YIELD_CHANGE', 'REQS_NW_CITY_HAS_4DIS');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_4', 'Amount', '1'),
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_4', 'BuildingType', 'BUILDING_OLD_GOD_OBELISK'),
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_4', 'YieldType', 'YIELD_FAITH');

INSERT INTO GovernorPromotionModifiers (GovernorPromotionType, ModifierId) VALUES
('GOVERNOR_PROMOTION_VOIDSINGERS_1', 'MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_5');
INSERT INTO Modifiers (ModifierId, ModifierType,SubjectRequirementSetId) VALUES
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_5', 'MODIFIER_PLAYER_CITIES_ADJUST_BUILDING_YIELD_CHANGE', 'REQS_NW_CITY_HAS_5DIS');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_5', 'Amount', '1'),
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_5', 'BuildingType', 'BUILDING_OLD_GOD_OBELISK'),
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_BF_5', 'YieldType', 'YIELD_FAITH');



DELETE FROM Building_GreatWorks WHERE BuildingType = 'BUILDING_OLD_GOD_OBELISK';

INSERT INTO GovernorPromotionModifiers (GovernorPromotionType, ModifierId) VALUES
('GOVERNOR_PROMOTION_VOIDSINGERS_1', 'MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_GK');

INSERT INTO Modifiers (ModifierId, ModifierType) VALUES
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_GK', 'MODIFIER_NW_ETH_PLAYER_CAPITAL_ADJUST_EXTRA_GREAT_WORK_SLOTS');

INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_GK', 'Amount', '4'),
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_GK', 'BuildingType', 'BUILDING_OLD_GOD_OBELISK'),
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_GK', 'GreatWorkSlotType', 'GREATWORKSLOT_PALACE');

-- Custom ModifierType

INSERT INTO Types (Type, Kind) VALUES
('MODIFIER_NW_ETH_PLAYER_CAPITAL_ADJUST_EXTRA_GREAT_WORK_SLOTS', 'KIND_MODIFIER');

INSERT INTO DynamicModifiers (ModifierType, CollectionType, EffectType) VALUES
('MODIFIER_NW_ETH_PLAYER_CAPITAL_ADJUST_EXTRA_GREAT_WORK_SLOTS', 'COLLECTION_PLAYER_CAPITAL_CITY', 'EFFECT_ADJUST_EXTRA_GREAT_WORK_SLOTS');

-- +10%信仰值
INSERT INTO GovernorPromotionModifiers (GovernorPromotionType, ModifierId) VALUES
('GOVERNOR_PROMOTION_VOIDSINGERS_4', 'MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_FAITH_BUFF');
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId, SubjectRequirementSetId) VALUES
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_FAITH_BUFF', 'MODIFIER_PLAYER_CITIES_ADJUST_CITY_YIELD_MODIFIER', 0, 0, 0, NULL, NULL);
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_FAITH_BUFF', 'Amount', '10'),
('MODIFIER_GOVERNOR_PROMOTION_VOIDSINGERS_4_FAITH_BUFF', 'YieldType', 'YIELD_FAITH');

-- =================
-- 夜莺
-- =================
-- 夜莺1级使者
INSERT OR IGNORE INTO Modifiers(ModifierId, ModifierType)
VALUES ('NEW_OWLS_OF_MINERVA', 'MODIFIER_PLAYER_GRANT_INFLUENCE_TOKEN');
INSERT OR IGNORE INTO ModifierArguments(ModifierId, Name, Value)
VALUES ('NEW_OWLS_OF_MINERVA', 'Amount', 3);
INSERT OR IGNORE INTO GovernorPromotionModifiers(GovernorPromotionType, ModifierId)
VALUES ('GOVERNOR_PROMOTION_OWLS_OF_MINERVA_1', 'NEW_OWLS_OF_MINERVA');
-- 夜莺一级通商使者
UPDATE ModifierArguments
SET Value = 2
WHERE ModifierId = 'GOVERNOR_PROMOTION_OWLS_OF_MINERVA_1_ENVOY_FROM_TRADE_ROUTE'
  AND Name = 'Amount';



-- 镀晶宝库
INSERT OR IGNORE INTO Building_YieldChanges(BuildingType, YieldType, YieldChange)
VALUES ('BUILDING_GILDED_VAULT', 'YIELD_PRODUCTION', 4);


-- 双区域+1商路

UPDATE Modifiers SET SubjectRequirementSetId = 'REQS_NW_CITY_HAS_2DIS' WHERE ModifierId = 'BUILDING_GILDED_VAULT_TRADE_ROUTE_CAPACITY';

-- 三级国库利息
UPDATE ModifierArguments
SET Value = 5
WHERE ModifierId = 'GOVERNOR_PROMOTION_OWLS_OF_MINERVA_4_GOLD_INTEREST'
  AND Name = 'Percent';
UPDATE GovernorPromotionModifiers SET GovernorPromotionType = 'GOVERNOR_PROMOTION_OWLS_OF_MINERVA_3'
WHERE ModifierId = 'GOVERNOR_PROMOTION_OWLS_OF_MINERVA_4_GOLD_INTEREST';

-- 四级间谍收益

UPDATE ModifierArguments
SET Value=100
WHERE ModifierId = 'GOVERNOR_PROMOTION_OWLS_OF_MINERVA_4_SPY_SUCCESS_GRANTS_FAITH'
  AND Name = 'Percent';
UPDATE ModifierArguments
SET Value=100
WHERE ModifierId = 'GOVERNOR_PROMOTION_OWLS_OF_MINERVA_4_SPY_SUCCESS_GRANTS_GOLD'
  AND Name = 'Percent';
UPDATE ModifierArguments
SET Value=100
WHERE ModifierId = 'GOVERNOR_PROMOTION_OWLS_OF_MINERVA_4_SPY_SUCCESS_GRANTS_CULTURE'
  AND Name = 'Percent';
UPDATE ModifierArguments
SET Value=100
WHERE ModifierId = 'GOVERNOR_PROMOTION_OWLS_OF_MINERVA_4_SPY_SUCCESS_GRANTS_SCIENCE'
  AND Name = 'Percent';


-- 四级商路收益
INSERT INTO GovernorPromotionModifiers (GovernorPromotionType, ModifierId) VALUES
('GOVERNOR_PROMOTION_OWLS_OF_MINERVA_4', 'MODIFIER_GOVERNOR_PROMOTION_OWLS_OF_MINERVA_4_TO_OTHER_CIV');
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId, SubjectRequirementSetId) VALUES
('MODIFIER_GOVERNOR_PROMOTION_OWLS_OF_MINERVA_4_TO_OTHER_CIV', 'MODIFIER_PLAYER_ADJUST_TRADE_ROUTE_YIELD_FOR_INTERNATIONAL', 0, 0, 0, NULL, NULL);
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_GOVERNOR_PROMOTION_OWLS_OF_MINERVA_4_TO_OTHER_CIV', 'Amount', '2'),
('MODIFIER_GOVERNOR_PROMOTION_OWLS_OF_MINERVA_4_TO_OTHER_CIV', 'YieldType', 'YIELD_PRODUCTION');


INSERT INTO GovernorPromotionModifiers (GovernorPromotionType, ModifierId) VALUES
('GOVERNOR_PROMOTION_OWLS_OF_MINERVA_4', 'MODIFIER_GOVERNOR_PROMOTION_OWLS_OF_MINERVA_4_TOSS');
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId, SubjectRequirementSetId) VALUES
('MODIFIER_GOVERNOR_PROMOTION_OWLS_OF_MINERVA_4_TOSS', 'MODIFIER_PLAYER_CITIES_ADJUST_CITY_STATE_TRADE_ROUTE_DISTRICT_YIELD', 0, 0, 0, NULL, NULL);
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_GOVERNOR_PROMOTION_OWLS_OF_MINERVA_4_TOSS', 'Amount', '2'),
('MODIFIER_GOVERNOR_PROMOTION_OWLS_OF_MINERVA_4_TOSS', 'YieldType', 'YIELD_FAITH');


-- 遗物
CREATE TEMP TABLE IF NOT EXISTS NW_JiesheProducts
(
    ProductType      TEXT NOT NULL,
    ProductClassType TEXT NOT NULL,
    PRIMARY KEY (ProductType)
);

INSERT INTO NW_JiesheProducts(ProductType, ProductClassType)
VALUES ('GREATWORK_PRODUCT_NW_EU_RELIC_1', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_2', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_3', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_4', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_5', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_6', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_7', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_8', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_9', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_10', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_11', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_12', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_13', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_14', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_15', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_16', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_17', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_18', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_19', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_20', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_21', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_22', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_23', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_24', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_25', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_26', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_27', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_28', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_29', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_30', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_31', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_32', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_33', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_34', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_35', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_36', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_37', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_38', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_39', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_40', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_41', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_42', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_43', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_44', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_45', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_46', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_47', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_48', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_49', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_50', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_51', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_52', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_53', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_54', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_55', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_56', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_57', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_58', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_59', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_60', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_61', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_62', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_63', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_64', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_65', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_66', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_67', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_68', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_69', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_70', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_71', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_72', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_73', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_74', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_75', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_76', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_77', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_78', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_79', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_80', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_81', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_82', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_83', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_84', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_85', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_86', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_87', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_88', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_89', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_90', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_91', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_92', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_93', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_94', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_95', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_96', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_97', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_98', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_99', 'RELIC'),
       ('GREATWORK_PRODUCT_NW_EU_RELIC_100', 'RELIC');



INSERT INTO Types(Type, Kind)
SELECT ProductType,
       'KIND_GREATWORK'
FROM NW_JiesheProducts;

INSERT INTO GreatWorks(GreatWorkType, GreatWorkObjectType, Name, Tourism)
SELECT ProductType,
       'GREATWORKOBJECT_RELIC',
       'LOC_GREATWORK_VOIDSIGNERS_RELIC_1_NAME',
       12
FROM NW_JiesheProducts;

INSERT INTO GreatWork_YieldChanges(GreatWorkType, YieldType, YieldChange)
SELECT ProductType,
       'YIELD_FAITH',
       4
FROM NW_JiesheProducts;

INSERT INTO GreatWorks_MODE(GreatWorkType, RequiredGovernor) SELECT
ProductType,'GOVERNOR_VOIDSINGERS'
FROM NW_JiesheProducts;


-- =========================================================================================================
-- 所有玩家开拓者+4移动力
-- Origin Author:号码菌
-- =========================================================================================================

INSERT INTO TraitModifiers (TraitType, ModifierId)VALUES
('TRAIT_LEADER_MAJOR_CIV', 'MODIFIER_UNITS_MOVEMENT_SETTLER_START_4');

INSERT INTO Modifiers(ModifierId, ModifierType, OwnerRequirementSetId,SubjectRequirementSetId)VALUES
('MODIFIER_UNITS_MOVEMENT_SETTLER_START_4', 'MODIFIER_PLAYER_UNITS_ADJUST_MOVEMENT', 'PLAYER_IS_HUMAN', 'TPBS_REQSET_Unit_Is_Settler_Turn_1');

INSERT INTO ModifierArguments (ModifierId, Name, Value)VALUES
('MODIFIER_UNITS_MOVEMENT_SETTLER_START_4', 'Amount', '5');


-- 条件集

INSERT INTO RequirementSets (RequirementSetId, RequirementSetType)VALUES
('TPBS_REQSET_Unit_Is_Settler_Turn_1', 'REQUIREMENTSET_TEST_ALL');

INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId)VALUES
('TPBS_REQSET_Unit_Is_Settler_Turn_1', 'TPBS_REQ_UNIT_IS_SETTLER'),
('TPBS_REQSET_Unit_Is_Settler_Turn_1', 'TPBS_REQ_TURN_1');


-- 子条件的定义

INSERT INTO Requirements (RequirementId, RequirementType, Inverse)VALUES
('TPBS_REQ_UNIT_IS_SETTLER', 'REQUIREMENT_UNIT_TYPE_MATCHES', 0),
('TPBS_REQ_TURN_1', 'REQUIREMENT_GAME_TURN_ATLEAST', 1);

INSERT INTO RequirementArguments (RequirementId, Name, Value)VALUES
('TPBS_REQ_UNIT_IS_SETTLER', 'UnitType', 'UNIT_SETTLER'),
('TPBS_REQ_TURN_1', 'MinGameTurn', '4');



INSERT INTO TraitModifiers (TraitType, ModifierId) VALUES
('TRAIT_LEADER_MAJOR_CIV', 'NW_Commercial_1_GRANT_ABILITY_NW_CB_UNIT_SETTLE');
INSERT INTO Modifiers (ModifierId, ModifierType, OwnerRequirementSetId) VALUES
('NW_Commercial_1_GRANT_ABILITY_NW_CB_UNIT_SETTLE', 'MODIFIER_PLAYER_UNITS_GRANT_ABILITY', 'PLAYER_IS_HUMAN');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('NW_Commercial_1_GRANT_ABILITY_NW_CB_UNIT_SETTLE', 'AbilityType', 'ABILITY_NW_CB_UNIT_SETTLE');

INSERT  INTO Types(Type, Kind)
VALUES ( 'ABILITY_NW_CB_UNIT_SETTLE','KIND_ABILITY');
INSERT  INTO TypeTags(Type,Tag)
VALUES ('ABILITY_NW_CB_UNIT_SETTLE','CLASS_SETTLER');
INSERT  INTO UnitAbilities(UnitAbilityType,Inactive,Name,Description)
VALUES ( 'ABILITY_NW_CB_UNIT_SETTLE', 1 ,'LOC_ABILITY_NW_CB_UNIT_SETTLE_NAME','LOC_ABILITY_NW_CB_UNIT_SETTLE_NAME');
INSERT  INTO UnitAbilityModifiers(UnitAbilityType,ModifierId)
VALUES ( 'ABILITY_NW_CB_UNIT_SETTLE', 'ABILITY_NW_CB_UNIT_SETTLE_IGNORE_TERRAIN_COST'),
       ( 'ABILITY_NW_CB_UNIT_SETTLE', 'ABILITY_NW_CB_UNIT_SETTLE_IGNORE_RIVERS');

INSERT  INTO Modifiers(ModifierId,ModifierType)
VALUES ( 'ABILITY_NW_CB_UNIT_SETTLE_IGNORE_TERRAIN_COST', 'MODIFIER_PLAYER_UNIT_ADJUST_IGNORE_TERRAIN_COST' );
INSERT  INTO ModifierArguments(ModifierId,Name,Value)
VALUES ( 'ABILITY_NW_CB_UNIT_SETTLE_IGNORE_TERRAIN_COST', 'Ignore',1),
       ( 'ABILITY_NW_CB_UNIT_SETTLE_IGNORE_TERRAIN_COST', 'Type','ALL');
INSERT  INTO Modifiers(ModifierId,ModifierType)
VALUES ( 'ABILITY_NW_CB_UNIT_SETTLE_IGNORE_RIVERS', 'MODIFIER_PLAYER_UNIT_ADJUST_IGNORE_RIVERS' );
INSERT  INTO ModifierArguments(ModifierId,Name,Value)
VALUES ( 'ABILITY_NW_CB_UNIT_SETTLE_IGNORE_RIVERS', 'Ignore',1);

-- 开局狗
INSERT INTO BuildingModifiers (BuildingType, ModifierId) VALUES
('BUILDING_PALACE', 'MODIFIER_BUILDING_PALACE_4SCOUT');
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId, SubjectRequirementSetId) VALUES
('MODIFIER_BUILDING_PALACE_4SCOUT', 'MODIFIER_PLAYER_GRANT_UNIT_IN_CAPITAL', 1, 1, 0, NULL, 'PLAYER_IS_HUMAN');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_BUILDING_PALACE_4SCOUT', 'AllowUniqueOverride', '1'),
('MODIFIER_BUILDING_PALACE_4SCOUT', 'Amount', '2'),
('MODIFIER_BUILDING_PALACE_4SCOUT', 'UnitType', 'UNIT_SCOUT');

-- 开局晋升
INSERT INTO BuildingModifiers (BuildingType, ModifierId) VALUES
('BUILDING_PALACE', 'MODIFIER_BUILDING_PALACE_SCOUT_PROMOTION');
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId, SubjectRequirementSetId) VALUES
('MODIFIER_BUILDING_PALACE_SCOUT_PROMOTION', 'MODIFIER_PLAYER_UNITS_ADJUST_GRANT_EXPERIENCE', 0, 0, 0, 'PLAYER_IS_HUMAN', 'REQSET_MODIFIER_BUILDING_PALACE_SCOUT_PROMOTION');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_BUILDING_PALACE_SCOUT_PROMOTION', 'Amount', '-1');

-- RequirementSets
INSERT INTO RequirementSets (RequirementSetId, RequirementSetType) VALUES
('REQSET_MODIFIER_BUILDING_PALACE_SCOUT_PROMOTION', 'REQUIREMENTSET_TEST_ALL');
INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES
('REQSET_MODIFIER_BUILDING_PALACE_SCOUT_PROMOTION', 'REQ_MODIFIER_BUILDING_PALACE_SCOUT_PROMOTION');

-- Requirements
INSERT INTO Requirements (RequirementId, RequirementType) VALUES
('REQ_MODIFIER_BUILDING_PALACE_SCOUT_PROMOTION', 'REQUIREMENT_UNIT_TAG_MATCHES');
INSERT INTO RequirementArguments (RequirementId, Name, Value) VALUES
('REQ_MODIFIER_BUILDING_PALACE_SCOUT_PROMOTION', 'Tag', 'CLASS_RECON');


-- 那烂陀
INSERT INTO TraitModifiers (TraitType, ModifierId) VALUES
('TRAIT_LEADER_MAJOR_CIV', 'MODFEAT_IMPROVEMENT_MAHAVIHARA_GRANT_RANDOM_TECHNOLOGY');
INSERT INTO Modifiers (ModifierId, ModifierType, OwnerRequirementSetId, RunOnce,Permanent) VALUES
('MODFEAT_IMPROVEMENT_MAHAVIHARA_GRANT_RANDOM_TECHNOLOGY', 'MODIFIER_PLAYER_GRANT_RANDOM_TECHNOLOGY', 'REQSET_IMPROVEMENT_MAHAVIHARA1',1,1);
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODFEAT_IMPROVEMENT_MAHAVIHARA_GRANT_RANDOM_TECHNOLOGY', 'Amount', '1');
INSERT INTO TraitModifiers (TraitType, ModifierId) VALUES
('TRAIT_LEADER_MAJOR_CIV', 'MODFEAT_IMPROVEMENT_MAHAVIHARA_GRANT_RANDOM_TECHNOLOGY2');
INSERT INTO Modifiers (ModifierId, ModifierType, OwnerRequirementSetId, RunOnce,Permanent) VALUES
('MODFEAT_IMPROVEMENT_MAHAVIHARA_GRANT_RANDOM_TECHNOLOGY2', 'MODIFIER_PLAYER_GRANT_RANDOM_TECHNOLOGY', 'REQSET_IMPROVEMENT_MAHAVIHARA2', 1,1);
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODFEAT_IMPROVEMENT_MAHAVIHARA_GRANT_RANDOM_TECHNOLOGY2', 'Amount', '1');
INSERT INTO TraitModifiers (TraitType, ModifierId) VALUES
('TRAIT_LEADER_MAJOR_CIV', 'MODFEAT_IMPROVEMENT_MAHAVIHARA_GRANT_RANDOM_TECHNOLOGY3');
INSERT INTO Modifiers (ModifierId, ModifierType, OwnerRequirementSetId,RunOnce,Permanent) VALUES
('MODFEAT_IMPROVEMENT_MAHAVIHARA_GRANT_RANDOM_TECHNOLOGY3', 'MODIFIER_PLAYER_GRANT_RANDOM_TECHNOLOGY', 'REQSET_IMPROVEMENT_MAHAVIHARA3', 1,1);
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODFEAT_IMPROVEMENT_MAHAVIHARA_GRANT_RANDOM_TECHNOLOGY3', 'Amount', '1');


-- RequirementSets
INSERT INTO RequirementSets (RequirementSetId, RequirementSetType) VALUES
('REQSET_IMPROVEMENT_MAHAVIHARA', 'REQUIREMENTSET_TEST_ALL'),
('REQSET_IMPROVEMENT_MAHAVIHARA1', 'REQUIREMENTSET_TEST_ALL'),
('REQSET_IMPROVEMENT_MAHAVIHARA2', 'REQUIREMENTSET_TEST_ALL'),
('REQSET_IMPROVEMENT_MAHAVIHARA3', 'REQUIREMENTSET_TEST_ALL');
INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES
('REQSET_IMPROVEMENT_MAHAVIHARA', 'REQ_IMPROVEMENT_MAHAVIHARA');
-- Requirements
INSERT INTO Requirements (RequirementId, RequirementType) VALUES
('REQ_IMPROVEMENT_MAHAVIHARA', 'REQUIREMENT_PLOT_IMPROVEMENT_TYPE_MATCHES');
INSERT INTO RequirementArguments (RequirementId, Name, Value) VALUES
('REQ_IMPROVEMENT_MAHAVIHARA', 'ImprovementType', 'IMPROVEMENT_MAHAVIHARA');

INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES
('REQSET_IMPROVEMENT_MAHAVIHARA1', 'REQ_IMPROVEMENT_MAHAVIHARA1');
INSERT INTO Requirements (RequirementId, RequirementType) VALUES
('REQ_IMPROVEMENT_MAHAVIHARA1', 'REQUIREMENT_COLLECTION_COUNT_ATLEAST');
INSERT INTO RequirementArguments (RequirementId, Name, Value) VALUES
('REQ_IMPROVEMENT_MAHAVIHARA1', 'CollectionType', 'COLLECTION_PLAYER_IMPROVEMENTS'),
('REQ_IMPROVEMENT_MAHAVIHARA1', 'Count', '1'),
('REQ_IMPROVEMENT_MAHAVIHARA1', 'RequirementSetId', 'REQSET_IMPROVEMENT_MAHAVIHARA');

INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES
('REQSET_IMPROVEMENT_MAHAVIHARA2', 'REQ_IMPROVEMENT_MAHAVIHARA2');
INSERT INTO Requirements (RequirementId, RequirementType) VALUES
('REQ_IMPROVEMENT_MAHAVIHARA2', 'REQUIREMENT_COLLECTION_COUNT_ATLEAST');
INSERT INTO RequirementArguments (RequirementId, Name, Value) VALUES
('REQ_IMPROVEMENT_MAHAVIHARA2', 'CollectionType', 'COLLECTION_PLAYER_IMPROVEMENTS'),
('REQ_IMPROVEMENT_MAHAVIHARA2', 'Count', '2'),
('REQ_IMPROVEMENT_MAHAVIHARA2', 'RequirementSetId', 'REQSET_IMPROVEMENT_MAHAVIHARA');

INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES
('REQSET_IMPROVEMENT_MAHAVIHARA3', 'REQ_IMPROVEMENT_MAHAVIHARA3');
INSERT INTO Requirements (RequirementId, RequirementType) VALUES
('REQ_IMPROVEMENT_MAHAVIHARA3', 'REQUIREMENT_COLLECTION_COUNT_ATLEAST');
INSERT INTO RequirementArguments (RequirementId, Name, Value) VALUES
('REQ_IMPROVEMENT_MAHAVIHARA3', 'CollectionType', 'COLLECTION_PLAYER_IMPROVEMENTS'),
('REQ_IMPROVEMENT_MAHAVIHARA3', 'Count', '3'),
('REQ_IMPROVEMENT_MAHAVIHARA3', 'RequirementSetId', 'REQSET_IMPROVEMENT_MAHAVIHARA');



DELETE FROM TraitModifiers WHERE ModifierId = 'MINOR_CIV_NALANDA_FREE_TECHNOLOGY' AND TraitType = 'MINOR_CIV_NALANDA_TRAIT';

-- UPDATE RandomEvent_Frequencies SET OccurrencesPerGame = OccurrencesPerGame+1;
-- UPDATE RandomEvent_Frequencies SET OccurrencesPerGame = OccurrencesPerGame*100 WHERE RandomEventType = 'RANDOM_EVENT_FLOOD_1000_YEAR';
-- UPDATE RandomEvent_Frequencies SET OccurrencesPerGame = OccurrencesPerGame*100 WHERE RandomEventType = 'RANDOM_EVENT_FLOOD_1000_YEAR';
-- UPDATE RandomEvent_Frequencies SET OccurrencesPerGame = OccurrencesPerGame*100 WHERE RandomEventType = 'RANDOM_EVENT_FLOOD_1000_YEAR';

-- 使用递归CTE生成5到103的数字序列（共99个数字）
-- WITH RECURSIVE numbers(x) AS (
--     SELECT 5  -- 起始值
--     UNION ALL
--     SELECT x + 1 FROM numbers WHERE x < 12  -- 结束值（5+98=103）
-- )
-- INSERT INTO RealismSettings(
--     RealismSettingType,
--     Name,
--     PercentVolcanoesActive,
--     ExtraRange,
--     ClimateChangePoints
-- )
-- SELECT
--     'REALISM_SETTING_' || x,
--     'LOC_REALISM_SETTING_HYPERREAL_NAME',
--     100 * x,
--     1,
--     1
-- FROM numbers;
--
-- CREATE TABLE IF NOT EXISTS Nw_RandomEvent_Frequencies(
--     RandomEventType    TEXT NOT NULL
--         references RandomEvents
--             on update cascade on delete cascade,
--     RealismSettingType TEXT NOT NULL
--         references RealismSettings
--             on update cascade on delete cascade,
--     OccurrencesPerGame REAL default 0,
--     primary key (RandomEventType, RealismSettingType)
-- );
--
-- WITH RECURSIVE numbers(x) AS (
--     SELECT 5  -- 起始值
--     UNION ALL
--     SELECT x + 1 FROM numbers WHERE x < 12  -- 结束值（5+98=103）
-- )
-- INSERT INTO Nw_RandomEvent_Frequencies(
--     RandomEventType,
--     RealismSettingType,
--     OccurrencesPerGame
-- )
-- SELECT
--     Ref.RandomEventType,
--     'REALISM_SETTING_' || n.x,
--     (Ref.OccurrencesPerGame + 1) *  (n.x - 2) * (n.x - 2) * (n.x - 2)
-- FROM numbers n JOIN RandomEvent_Frequencies Ref WHERE Ref.RealismSettingType = 'REALISM_SETTING_MINIMAL';
--
-- INSERT INTO RandomEvent_Frequencies(RandomEventType, RealismSettingType, OccurrencesPerGame) SELECT
--     RandomEventType,
--     RealismSettingType,
--     OccurrencesPerGame
-- FROM Nw_RandomEvent_Frequencies;


-- INSERT OR IGNORE INTO RandomEvent_Yields(RandomEventType, YieldType, FeatureType, Percentage) SELECT
-- Ry.RandomEventType, y.YieldType, Ry.FeatureType, Ry.Percentage
-- FROM RandomEvent_Yields Ry JOIN Yields y;
