--  FILE: GERMANY_ALT_Modifier.sql
--  VERSION: 1
--  Author: Nwflower
--  Spicial Thanks: Uni
--  Copyright (c) 2025.
--      All rights reserved.
--  DateCreated: 2025/9/23 9:28:58

--============================================================
-- Lua Support
--============================================================
CREATE TABLE IF NOT EXISTS Nwflower_MOD_Traits(
TraitType TEXT NOT NULL,
PRIMARY KEY (TraitType),
FOREIGN KEY (TraitType) REFERENCES Traits (TraitType) ON DELETE CASCADE ON UPDATE CASCADE
);

INSERT OR IGNORE INTO Nwflower_MOD_Traits(TraitType) VALUES
('TRAIT_CIVILIZATION_IMPERIAL_FREE_CITIES'),
('TRAIT_LEADER_HOLY_ROMAN_EMPEROR_ALT');

INSERT OR IGNORE INTO TraitModifiers(TraitType,ModifierId)SELECT
TraitType,				'MODFEAT_TRAIT_PROPERTY_'||TraitType
FROM Nwflower_MOD_Traits;

INSERT OR IGNORE INTO Modifiers(ModifierId,ModifierType)SELECT
'MODFEAT_TRAIT_PROPERTY_'||TraitType,			'MODIFIER_PLAYER_ADJUST_PROPERTY'
FROM Nwflower_MOD_Traits;

INSERT OR IGNORE INTO ModifierArguments(ModifierId,Name,Value)SELECT
'MODFEAT_TRAIT_PROPERTY_'||TraitType,			'Key',	'PROPERTY_'||TraitType
FROM Nwflower_MOD_Traits UNION SELECT
'MODFEAT_TRAIT_PROPERTY_'||TraitType,			'Amount',						1
FROM Nwflower_MOD_Traits;

--============================================================
-- 继承原效果
INSERT OR IGNORE INTO TraitModifiers(TraitType, ModifierId) SELECT
'TRAIT_LEADER_HOLY_ROMAN_EMPEROR_ALT',ModifierId
FROM TraitModifiers WHERE TraitType = 'TRAIT_LEADER_HOLY_ROMAN_EMPEROR';


-- RequirementSets
INSERT INTO RequirementSets (RequirementSetId, RequirementSetType) VALUES
('REQS_TRAIT_LEADER_HOLY_ROMAN_EMPEROR_ALT', 'REQUIREMENTSET_TEST_ALL');
INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES
('REQS_TRAIT_LEADER_HOLY_ROMAN_EMPEROR_ALT', 'REQ_TRAIT_LEADER_HOLY_ROMAN_EMPEROR_ALT');
-- Requirements
INSERT INTO Requirements (RequirementId, RequirementType) VALUES
('REQ_TRAIT_LEADER_HOLY_ROMAN_EMPEROR_ALT', 'REQUIREMENT_PLAYER_HAS_CIVIC');
INSERT INTO RequirementArguments (RequirementId, Name, Value) VALUES
('REQ_TRAIT_LEADER_HOLY_ROMAN_EMPEROR_ALT', 'CivicType', 'CIVIC_FOREIGN_TRADE');


-- 买地-30%
INSERT OR IGNORE INTO TraitModifiers (TraitType, ModifierId) VALUES
('TRAIT_LEADER_HOLY_ROMAN_EMPEROR_ALT', 'MODIFIER_BELIEF_EARTH_SPIRITS_BUY_20');
INSERT OR IGNORE INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId, SubjectRequirementSetId) VALUES
('MODIFIER_BELIEF_EARTH_SPIRITS_BUY_20', 'MODIFIER_PLAYER_CITIES_ADJUST_PLOT_PURCHASE_COST', 0, 0, 0, 'REQS_TRAIT_LEADER_HOLY_ROMAN_EMPEROR_ALT', NULL);
INSERT OR IGNORE INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_BELIEF_EARTH_SPIRITS_BUY_20', 'Amount', '-30');

INSERT OR IGNORE INTO TraitModifiers (TraitType, ModifierId) VALUES
('TRAIT_LEADER_HOLY_ROMAN_EMPEROR_ALT', 'MODIFIER_BELIEF_EARTH_SPIRITS_BUY_40');
INSERT OR IGNORE INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId, SubjectRequirementSetId) VALUES
('MODIFIER_BELIEF_EARTH_SPIRITS_BUY_40', 'MODIFIER_PLAYER_CITIES_ADJUST_PLOT_PURCHASE_COST', 0, 0, 0, NULL, 'REQ_BELIEF_EARTH_SPIRITS_HAS_TECH_REQ');
INSERT OR IGNORE INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_BELIEF_EARTH_SPIRITS_BUY_40', 'Amount', '-10');
-- RequirementSets
INSERT OR IGNORE INTO RequirementSets (RequirementSetId, RequirementSetType) VALUES
('REQ_BELIEF_EARTH_SPIRITS_HAS_TECH_REQ', 'REQUIREMENTSET_TEST_ALL');
INSERT OR IGNORE INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES
('REQ_BELIEF_EARTH_SPIRITS_HAS_TECH_REQ', 'REQ_BELIEF_EARTH_SPIRITS_HAS_TECH');
-- Requirements
INSERT OR IGNORE INTO Requirements (RequirementId, RequirementType) VALUES
('REQ_BELIEF_EARTH_SPIRITS_HAS_TECH', 'REQUIREMENT_PLAYER_HAS_TECHNOLOGY');
INSERT OR IGNORE INTO RequirementArguments (RequirementId, Name, Value) VALUES
('REQ_BELIEF_EARTH_SPIRITS_HAS_TECH', 'TechnologyType', 'TECH_PRINTING');

-- 有区域的城市+2金币
INSERT OR IGNORE INTO TraitModifiers (TraitType, ModifierId) VALUES
('TRAIT_LEADER_HOLY_ROMAN_EMPEROR_ALT', 'MODIFIER_BELIEF_EARTH_SPIRITS_GOLD_ALL_CITIES');
INSERT OR IGNORE INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId, SubjectRequirementSetId) VALUES
('MODIFIER_BELIEF_EARTH_SPIRITS_GOLD_ALL_CITIES', 'MODIFIER_PLAYER_CITIES_ADJUST_CITY_YIELD_CHANGE', 0, 0, 0, 'REQS_TRAIT_LEADER_HOLY_ROMAN_EMPEROR_ALT', 'REQ_BELIEF_EARTH_SPIRITS_HAS_DISTRITS_REQ');
INSERT OR IGNORE INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_BELIEF_EARTH_SPIRITS_GOLD_ALL_CITIES', 'Amount', '2'),
('MODIFIER_BELIEF_EARTH_SPIRITS_GOLD_ALL_CITIES', 'YieldType', 'YIELD_GOLD');

-- RequirementSets
INSERT OR IGNORE INTO RequirementSets (RequirementSetId, RequirementSetType) VALUES
('REQ_BELIEF_EARTH_SPIRITS_HAS_DISTRITS_REQ', 'REQUIREMENTSET_TEST_ALL');
INSERT OR IGNORE INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES
('REQ_BELIEF_EARTH_SPIRITS_HAS_DISTRITS_REQ', 'REQ_BELIEF_EARTH_SPIRITS_HAS_DISTRITS');

-- Requirements
INSERT OR IGNORE INTO Requirements (RequirementId, RequirementType) VALUES
('REQ_BELIEF_EARTH_SPIRITS_HAS_DISTRITS', 'REQUIREMENT_CITY_HAS_X_SPECIALTY_DISTRICTS');
INSERT OR IGNORE INTO RequirementArguments (RequirementId, Name, Value) VALUES 
('REQ_BELIEF_EARTH_SPIRITS_HAS_DISTRITS', 'Amount', '1');


--============================================================
-- 空白万神
INSERT OR IGNORE INTO Types(Type, Kind) VALUES
('BELIEF_KONGBAI','KIND_BELIEF');
INSERT OR IGNORE INTO Beliefs(BeliefType, Name, Description, BeliefClassType) VALUES
('BELIEF_KONGBAI','LOC_BELIEF_KONGBAI_NAME','LOC_BELIEF_KONGBAI_DESCRIPTION','BELIEF_CLASS_PANTHEON');

INSERT OR IGNORE INTO Types(Type, Kind) VALUES
('BELIEF_KONGBAI2','KIND_BELIEF');
INSERT OR IGNORE INTO Beliefs(BeliefType, Name, Description, BeliefClassType) VALUES
('BELIEF_KONGBAI2','LOC_BELIEF_KONGBAI_NAME','LOC_BELIEF_KONGBAI_DESCRIPTION','BELIEF_CLASS_PANTHEON');

INSERT OR IGNORE INTO Types(Type, Kind) VALUES
('BELIEF_KONGBAI3','KIND_BELIEF');
INSERT OR IGNORE INTO Beliefs(BeliefType, Name, Description, BeliefClassType) VALUES
('BELIEF_KONGBAI3','LOC_BELIEF_KONGBAI_NAME','LOC_BELIEF_KONGBAI_DESCRIPTION','BELIEF_CLASS_PANTHEON');

INSERT OR IGNORE INTO Types(Type, Kind) VALUES
('BELIEF_KONGBAI4','KIND_BELIEF');
INSERT OR IGNORE INTO Beliefs(BeliefType, Name, Description, BeliefClassType) VALUES
('BELIEF_KONGBAI4','LOC_BELIEF_KONGBAI_NAME','LOC_BELIEF_KONGBAI_DESCRIPTION','BELIEF_CLASS_PANTHEON');

INSERT OR IGNORE INTO Types(Type, Kind) VALUES
('BELIEF_KONGBAI5','KIND_BELIEF');
INSERT OR IGNORE INTO Beliefs(BeliefType, Name, Description, BeliefClassType) VALUES
('BELIEF_KONGBAI5','LOC_BELIEF_KONGBAI_NAME','LOC_BELIEF_KONGBAI_DESCRIPTION','BELIEF_CLASS_PANTHEON');

INSERT OR IGNORE INTO Types(Type, Kind) VALUES
('BELIEF_KONGBAI6','KIND_BELIEF');
INSERT OR IGNORE INTO Beliefs(BeliefType, Name, Description, BeliefClassType) VALUES
('BELIEF_KONGBAI6','LOC_BELIEF_KONGBAI_NAME','LOC_BELIEF_KONGBAI_DESCRIPTION','BELIEF_CLASS_PANTHEON');