-- Team_PVP_More_GreatPeople
-- Author: Nwflower
-- DateCreated: 2025-6-12 14:19:14
--------------------------------------------------------------
CREATE TABLE IF NOT EXISTS NW_GreatPersonClass
(
    GreatPersonIndividualType TEXT NOT NULL,
    GreatPersonClassType      TEXT NOT NULL,
    EraType                   TEXT NOT NULL,
    GreatWorksNum             INTEGER DEFAULT 0,
    PRIMARY KEY (GreatPersonIndividualType)
);
INSERT INTO NW_GreatPersonClass(GreatPersonIndividualType, GreatPersonClassType, EraType)
VALUES ('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_CLASSICAL_1', 'GREAT_PERSON_CLASS_ENGINEER', 'ERA_CLASSICAL'),
       ('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_CLASSICAL_2', 'GREAT_PERSON_CLASS_ENGINEER', 'ERA_CLASSICAL'),
       ('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MEDIEVAL_1', 'GREAT_PERSON_CLASS_ENGINEER', 'ERA_MEDIEVAL'),
       ('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MEDIEVAL_2', 'GREAT_PERSON_CLASS_ENGINEER', 'ERA_MEDIEVAL'),
       ('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_1', 'GREAT_PERSON_CLASS_ENGINEER', 'ERA_RENAISSANCE'),
       ('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_2', 'GREAT_PERSON_CLASS_ENGINEER', 'ERA_RENAISSANCE'),
       ('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_INDUSTRIAL_1', 'GREAT_PERSON_CLASS_ENGINEER', 'ERA_INDUSTRIAL'),
       ('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_INDUSTRIAL_2', 'GREAT_PERSON_CLASS_ENGINEER', 'ERA_INDUSTRIAL'),
       ('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_1', 'GREAT_PERSON_CLASS_ENGINEER', 'ERA_MODERN'),
       ('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_2', 'GREAT_PERSON_CLASS_ENGINEER', 'ERA_MODERN');

INSERT INTO Types (Type, Kind)
SELECT GreatPersonIndividualType, 'KIND_GREAT_PERSON_INDIVIDUAL'
FROM NW_GreatPersonClass WHERE GreatPersonClassType = 'GREAT_PERSON_CLASS_ENGINEER';

-- ======================================================
-- 大工程师
-- ======================================================

INSERT INTO GreatPersonIndividuals(GreatPersonIndividualType, Name, GreatPersonClassType, EraType, Gender,
                                   ActionCharges, ActionRequiresOwnedTile,
                                   ActionEffectTileHighlighting,ActionEffectTextOverride)
SELECT GreatPersonIndividualType,
       'LOC_' || GreatPersonIndividualType || '_NAME',
       GreatPersonClassType,
       EraType,
       'M',
       1,
       1,
       1,
       'LOC_MODIFIER_'|| GreatPersonIndividualType
FROM NW_GreatPersonClass
WHERE GreatPersonClassType = 'GREAT_PERSON_CLASS_ENGINEER';


UPDATE GreatPersonIndividuals
SET ActionRequiresCompletedDistrictType='DISTRICT_CITY_CENTER'
WHERE GreatPersonIndividualType IN
      ('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_CLASSICAL_1', 'GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_CLASSICAL_2', 'GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MEDIEVAL_2', 'GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_2', 'GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_INDUSTRIAL_1', 'GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_INDUSTRIAL_2','GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_2');

UPDATE GreatPersonIndividuals
SET ActionRequiresCompletedDistrictType='DISTRICT_INDUSTRIAL_ZONE'
WHERE GreatPersonIndividualType IN
      ('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MEDIEVAL_1');


UPDATE GreatPersonIndividuals
SET ActionCharges = 2
WHERE GreatPersonIndividualType IN
      ('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_CLASSICAL_1','GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MEDIEVAL_2', 'GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_INDUSTRIAL_1');

UPDATE GreatPersonIndividuals
SET ActionRequiresIncompleteWonder = 1
WHERE GreatPersonIndividualType IN
      ('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_1', 'GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_1');


-- 1
INSERT INTO GreatPersonIndividualActionModifiers (GreatPersonIndividualType, ModifierId, AttachmentTargetType)
VALUES ('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_CLASSICAL_1', 'MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_CLASSICAL_1',
        'GREAT_PERSON_ACTION_ATTACHMENT_TARGET_DISTRICT_IN_TILE');
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId,
                       SubjectRequirementSetId)
VALUES ('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_CLASSICAL_1', 'MODIFIER_SINGLE_CITY_GRANT_PRODUCTION_IN_CITY', 1,
        1, 0, NULL, NULL);
INSERT INTO ModifierArguments (ModifierId, Name, Value)
VALUES ('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_CLASSICAL_1', 'Amount', '10'),
       ('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_CLASSICAL_1', 'KeepOverflow', '1');

-- 建表方便LUA识别水利区域
CREATE TABLE DISTRICT_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_CLASSICAL_1(
    DistrictType TEXT NOT NULL PRIMARY KEY
);
INSERT INTO DISTRICT_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_CLASSICAL_1 VALUES
('DISTRICT_AQUEDUCT'),
('DISTRICT_DAM'),
('DISTRICT_CANAL');
INSERT INTO DISTRICT_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_CLASSICAL_1 SELECT
CivUniqueDistrictType
FROM DistrictReplaces WHERE ReplacesDistrictType IN (SELECT DistrictType FROM DISTRICT_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_CLASSICAL_1);

-- 2
INSERT INTO GreatPersonIndividualActionModifiers (GreatPersonIndividualType, ModifierId, AttachmentTargetType)
VALUES ('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_CLASSICAL_2', 'MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_CLASSICAL_2_1',
        'GREAT_PERSON_ACTION_ATTACHMENT_TARGET_DISTRICT_IN_TILE');
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId,
                       SubjectRequirementSetId)
VALUES ('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_CLASSICAL_2_1', 'MODIFIER_SINGLE_CITY_GRANT_UNIT_IN_CITY', 1, 1,
        0, NULL, NULL);
INSERT INTO ModifierArguments (ModifierId, Name, Value)
VALUES ('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_CLASSICAL_2_1', 'AllowUniqueOverride', '1'),
       ('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_CLASSICAL_2_1', 'Amount', '1'),
       ('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_CLASSICAL_2_1', 'UnitType', 'UNIT_BUILDER');

INSERT INTO GreatPersonIndividualActionModifiers (GreatPersonIndividualType, ModifierId, AttachmentTargetType)
VALUES ('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_CLASSICAL_2', 'MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_CLASSICAL_2_2',
        'GREAT_PERSON_ACTION_ATTACHMENT_TARGET_DISTRICT_IN_TILE');
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId,
                       SubjectRequirementSetId)
VALUES ('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_CLASSICAL_2_2', 'MODIFIER_SINGLE_CITY_ADJUST_WONDER_PRODUCTION',
        0, 0, 0, NULL, NULL);
INSERT INTO ModifierArguments (ModifierId, Name, Value)
VALUES ('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_CLASSICAL_2_2', 'Amount', '15');


-- 3
INSERT INTO GreatPersonIndividualActionModifiers (GreatPersonIndividualType, ModifierId, AttachmentTargetType) VALUES
('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MEDIEVAL_1', 'MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MEDIEVAL_1', 'GREAT_PERSON_ACTION_ATTACHMENT_TARGET_DISTRICT_IN_TILE');
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId, SubjectRequirementSetId) VALUES
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MEDIEVAL_1', 'MODIFIER_SINGLE_CITY_GRANT_BUILDING_IN_CITY_IGNORE', 1, 1, 0, NULL, NULL);
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MEDIEVAL_1', 'BuildingType', 'BUILDING_WORKSHOP');


INSERT INTO GreatPersonIndividualActionModifiers (GreatPersonIndividualType, ModifierId, AttachmentTargetType)
VALUES ('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MEDIEVAL_1', 'MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MEDIEVAL_1_2',
        'GREAT_PERSON_ACTION_ATTACHMENT_TARGET_DISTRICT_IN_TILE');
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId,
                       SubjectRequirementSetId)
VALUES ('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MEDIEVAL_1_2', 'MODIFIER_SINGLE_CITY_ADJUST_DISTRICT_PRODUCTION_MODIFIER',
        0, 0, 0, NULL, NULL);
INSERT INTO ModifierArguments (ModifierId, Name, Value)
VALUES ('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MEDIEVAL_1_2', 'Amount', '15');

-- 4
INSERT INTO GreatPersonIndividualActionModifiers (GreatPersonIndividualType, ModifierId,  AttachmentTargetType) VALUES
('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MEDIEVAL_2', 'MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MEDIEVAL_2_1', 'GREAT_PERSON_ACTION_ATTACHMENT_TARGET_DISTRICT_IN_TILE');
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId, SubjectRequirementSetId) VALUES
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MEDIEVAL_2_1', 'MODIFIER_SINGLE_CITY_GRANT_BUILDING_IN_CITY_IGNORE', 1, 1, 0, NULL, NULL);
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MEDIEVAL_2_1', 'BuildingType', 'BUILDING_WATER_MILL');

INSERT INTO GreatPersonIndividualActionModifiers (GreatPersonIndividualType, ModifierId,  AttachmentTargetType) VALUES
('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MEDIEVAL_2', 'MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MEDIEVAL_2_2', 'GREAT_PERSON_ACTION_ATTACHMENT_TARGET_DISTRICT_IN_TILE');
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId, SubjectRequirementSetId) VALUES
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MEDIEVAL_2_2', 'MODIFIER_SINGLE_CITY_ADJUST_CITY_YIELD_MODIFIER', 1, 1, 0, NULL, NULL);
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MEDIEVAL_2_2', 'Amount', '5'),
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MEDIEVAL_2_2', 'YieldType', 'YIELD_PRODUCTION');

-- 5

-- 建表方便LUA识别中世纪及之前的奇观
CREATE TABLE NW_TABLE_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_1(
    Building TEXT NOT NULL PRIMARY KEY
);
INSERT OR REPLACE INTO NW_TABLE_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_1 SELECT
BuildingType
FROM Buildings WHERE PrereqCivic IN (SELECT CivicType FROM Civics WHERE EraType IN ('ERA_ANCIENT','ERA_CLASSICAL','ERA_MEDIEVAL')) AND IsWonder = 1;
INSERT OR REPLACE INTO NW_TABLE_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_1 SELECT
BuildingType
FROM Buildings WHERE PrereqTech IN (SELECT TechnologyType FROM Technologies WHERE EraType IN ('ERA_ANCIENT','ERA_CLASSICAL','ERA_MEDIEVAL')) AND IsWonder = 1;

INSERT INTO GreatPersonIndividualActionModifiers (GreatPersonIndividualType, ModifierId,  AttachmentTargetType) VALUES
('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_1', 'MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_1', 'GREAT_PERSON_ACTION_ATTACHMENT_TARGET_DISTRICT_WONDER_IN_TILE');
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId, SubjectRequirementSetId) VALUES
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_1', 'MODIFIER_SINGLE_CITY_ADJUST_WONDER_YIELD_CHANGE', 0, 0, 0, NULL, NULL);
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_1', 'Amount', '2'),
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_1', 'YieldType', 'YIELD_CULTURE');

-- 6
INSERT INTO GreatPersonIndividualActionModifiers (GreatPersonIndividualType, ModifierId, AttachmentTargetType) VALUES
('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_2', 'MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_2_SINGLE', 'GREAT_PERSON_ACTION_ATTACHMENT_TARGET_DISTRICT_IN_TILE');
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId, SubjectRequirementSetId) VALUES
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_2_SINGLE', 'MODIFIER_SINGLE_CITY_ADJUST_CITY_AMENITIES_FROM_GREAT_PEOPLE', 1, 1, 0, NULL, NULL);
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_2_SINGLE', 'Amount', '1');


INSERT INTO GreatPersonIndividualActionModifiers (GreatPersonIndividualType, ModifierId) VALUES
('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_2', 'MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_2');
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId, SubjectRequirementSetId) VALUES
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_2', 'NW_TPMG_MODIFIER_PLAYER_CITYS_ADJUST_CITY_AMENITIES_FROM_GREAT_PEOPLE', 1, 1, 0, NULL, 'REQS_MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_2');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_2', 'Amount', '1');

-- Custom ModifierType
INSERT INTO Types (Type, Kind) VALUES
('NW_TPMG_MODIFIER_PLAYER_CITYS_ADJUST_CITY_AMENITIES_FROM_GREAT_PEOPLE', 'KIND_MODIFIER');
INSERT INTO DynamicModifiers (ModifierType, CollectionType, EffectType) VALUES
('NW_TPMG_MODIFIER_PLAYER_CITYS_ADJUST_CITY_AMENITIES_FROM_GREAT_PEOPLE', 'COLLECTION_PLAYER_CITIES', 'EFFECT_ADJUST_CITY_AMENITIES_FROM_GREAT_PEOPLE');

-- RequirementSets
INSERT INTO RequirementSets (RequirementSetId, RequirementSetType) VALUES
('REQS_MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_2', 'REQUIREMENTSET_TEST_ALL');
INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES
('REQS_MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_2', 'REQ_MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_2');

-- Requirements
INSERT INTO Requirements (RequirementId, RequirementType) VALUES
('REQ_MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_2', 'REQUIREMENT_PLOT_ADJACENT_TO_WONDER');
INSERT INTO RequirementArguments (RequirementId, Name, Value) VALUES
('REQ_MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_2', 'MaxDistance', '0'),
('REQ_MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_RENAISSANCE_2', 'MinDistance', '1');

-- 7 詹天佑
INSERT OR REPLACE INTO Types (Type, Kind) VALUES
('NW_TPMG_MODIFIER_PLAYER_DISTRICTS_ADJUST_BASE_YIELD_CHANGE', 'KIND_MODIFIER');
INSERT OR REPLACE INTO DynamicModifiers (ModifierType, CollectionType, EffectType) VALUES
('NW_TPMG_MODIFIER_PLAYER_DISTRICTS_ADJUST_BASE_YIELD_CHANGE', 'COLLECTION_PLAYER_DISTRICTS', 'EFFECT_ADJUST_DISTRICT_BASE_YIELD_CHANGE');

INSERT INTO GreatPersonIndividualActionModifiers (GreatPersonIndividualType, ModifierId) VALUES
('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_INDUSTRIAL_1', 'MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_INDUSTRIAL_1');
INSERT INTO Modifiers (ModifierId, ModifierType, SubjectRequirementSetId) VALUES
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_INDUSTRIAL_1', 'NW_TPMG_MODIFIER_PLAYER_DISTRICTS_ADJUST_BASE_YIELD_CHANGE',  'DISTRICT_IS_INDUSTRIAL_ZONE');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_INDUSTRIAL_1', 'Amount', '1'),
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_INDUSTRIAL_1', 'YieldType', 'YIELD_PRODUCTION');

-- 8 法拉第
INSERT OR REPLACE INTO Types(Type, Kind)
VALUES ('BUILDING_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_INDUSTRIAL_2', 'KIND_BUILDING');

INSERT OR REPLACE INTO Buildings(BuildingType, Name, Description, Cost, PrereqDistrict, InternalOnly)
VALUES ('BUILDING_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_INDUSTRIAL_2', 'LOC_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_INDUSTRIAL_2_NAME', 'LOC_MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_INDUSTRIAL_2', 1, 'DISTRICT_CITY_CENTER', 1);

INSERT OR REPLACE INTO BuildingModifiers    (BuildingType, ModifierId) VALUES
('BUILDING_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_INDUSTRIAL_2', 'MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_INDUSTRIAL_2');
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId, SubjectRequirementSetId) VALUES
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_INDUSTRIAL_2', 'MODIFIER_PLAYER_CITIES_ADJUST_FREE_POWER', 0, 0, 0, NULL, NULL);
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_INDUSTRIAL_2', 'SourceType', 'FREE_POWER_SOURCE_MISC');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_INDUSTRIAL_2','Amount', (SELECT SUM(RequiredPower) FROM Buildings_XP2));


-- 9 茅以升
-- 为奇观提供225点生产力，或立即完成指定的水上奇观。


-- 标记水上奇观
CREATE TABLE NW_TABLE_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_1(
    Building TEXT NOT NULL PRIMARY KEY
);
INSERT OR REPLACE INTO NW_TABLE_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_1 SELECT
BuildingType
FROM Building_ValidTerrains WHERE TerrainType IN ('TERRAIN_COAST','TERRAIN_OCEAN');
INSERT OR REPLACE INTO NW_TABLE_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_1 SELECT
BuildingType
FROM Buildings WHERE MustBeLake = 1;

INSERT INTO GreatPersonIndividualActionModifiers (GreatPersonIndividualType, ModifierId, AttachmentTargetType)
VALUES ('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_1', 'MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_1',
        'GREAT_PERSON_ACTION_ATTACHMENT_TARGET_DISTRICT_WONDER_IN_TILE');
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId,
                       SubjectRequirementSetId)
VALUES ('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_1', 'MODIFIER_SINGLE_CITY_GRANT_PRODUCTION_IN_CITY', 1,
        1, 0, NULL, NULL);
INSERT INTO ModifierArguments (ModifierId, Name, Value)
VALUES ('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_1', 'Amount', '450'),
       ('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_1', 'KeepOverflow', '1');


-- 所有单位无视河流的移动力减益。
INSERT INTO GreatPersonIndividualActionModifiers (GreatPersonIndividualType, ModifierId) VALUES
('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_1', 'MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_1_2');
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent) VALUES
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_1_2', 'MODIFIER_PLAYER_UNITS_GRANT_ABILITY', 0, 1);
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_1_2', 'AbilityType', 'ABILITY_MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_1');

INSERT  INTO Types(Type, Kind)
VALUES ( 'ABILITY_MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_1','KIND_ABILITY');
INSERT  INTO TypeTags(Type,Tag)
VALUES ('ABILITY_MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_1','CLASS_ALL_UNITS');
INSERT  INTO UnitAbilities(UnitAbilityType,Inactive,Name,Description)
VALUES ( 'ABILITY_MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_1', 1 ,'LOC_ABILITY_MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_1_NAME','LOC_ABILITY_MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_1_NAME');
INSERT  INTO UnitAbilityModifiers(UnitAbilityType,ModifierId)
VALUES ( 'ABILITY_MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_1', 'ABILITY_MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_1_IGNORE_RIVERS');

INSERT  INTO Modifiers(ModifierId,ModifierType)
VALUES ( 'ABILITY_MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_1_IGNORE_RIVERS', 'MODIFIER_PLAYER_UNIT_ADJUST_IGNORE_RIVERS' );
INSERT  INTO ModifierArguments(ModifierId,Name,Value)
VALUES ( 'ABILITY_MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_1_IGNORE_RIVERS', 'Ignore',1);


-- 10 托马斯·爱迪生
-- 拥有充足电力供给的城市+15%项目生产力
INSERT INTO GreatPersonIndividualActionModifiers (GreatPersonIndividualType, ModifierId) VALUES
('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_2', 'MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_2');
INSERT INTO Modifiers (ModifierId, ModifierType,SubjectRequirementSetId) VALUES
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_2', 'MODIFIER_PLAYER_CITIES_ADJUST_ALL_PROJECTS_PRODUCTION', 'REQS_MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_2');
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_2', 'Amount', '15');

-- RequirementSets
INSERT INTO RequirementSets (RequirementSetId, RequirementSetType) VALUES
('REQS_MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_2', 'REQUIREMENTSET_TEST_ALL');
INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES
('REQS_MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_2', 'REQ_MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_2');

-- Requirements
INSERT INTO Requirements (RequirementId, RequirementType) VALUES
('REQ_MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_2', 'REQUIREMENT_CITY_IS_POWERED');

-- 并随机解锁1项工业时代科技尤里卡。
INSERT INTO GreatPersonIndividualActionModifiers (GreatPersonIndividualType, ModifierId) VALUES
('GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_2', 'MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_2_2');
INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, Permanent, NewOnly, OwnerRequirementSetId, SubjectRequirementSetId) VALUES
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_2_2', 'MODIFIER_PLAYER_GRANT_RANDOM_TECHNOLOGY_BOOST_BY_ERA', 1, 1, 0, NULL, NULL);
INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_2_2', 'Amount', '1'),
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_2_2', 'EndEraType', 'ERA_INFORMATION'),
('MODIFIER_GREAT_PERSON_INDIVIDUAL_NW_ENGINEER_MODERN_2_2', 'StartEraType', 'ERA_INDUSTRIAL');
